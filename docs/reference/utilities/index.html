<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.71">
<link rel="alternate" type="application/rss+xml" href="/graphql-utils/blog/rss.xml" title="GraphQL-Utils Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/graphql-utils/blog/atom.xml" title="GraphQL-Utils Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SGKJKYGQ0E"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-SGKJKYGQ0E",{anonymize_ip:!0})</script><title data-react-helmet="true">Utilities | GraphQL-Utils</title><meta data-react-helmet="true" property="og:url" content="https://jenyus-org.github.io/graphql-utils/docs/reference/utilities"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Utilities | GraphQL-Utils"><meta data-react-helmet="true" name="description" content="Overview of the utilities provided by the @jenyus-org/graphql-utils package."><meta data-react-helmet="true" property="og:description" content="Overview of the utilities provided by the @jenyus-org/graphql-utils package."><link data-react-helmet="true" rel="shortcut icon" href="/graphql-utils/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://jenyus-org.github.io/graphql-utils/docs/reference/utilities"><link data-react-helmet="true" rel="alternate" href="https://jenyus-org.github.io/graphql-utils/docs/reference/utilities" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://jenyus-org.github.io/graphql-utils/docs/reference/utilities" hreflang="x-default"><link rel="stylesheet" href="/graphql-utils/assets/css/styles.6ad979f0.css">
<link rel="preload" href="/graphql-utils/assets/js/styles.8c4d1cc6.js" as="script">
<link rel="preload" href="/graphql-utils/assets/js/runtime~main.7d6f00cb.js" as="script">
<link rel="preload" href="/graphql-utils/assets/js/main.0d934c17.js" as="script">
<link rel="preload" href="/graphql-utils/assets/js/common.dcdbc003.js" as="script">
<link rel="preload" href="/graphql-utils/assets/js/2.ff3575b0.js" as="script">
<link rel="preload" href="/graphql-utils/assets/js/1be78505.aec436ed.js" as="script">
<link rel="preload" href="/graphql-utils/assets/js/18.b25236b0.js" as="script">
<link rel="preload" href="/graphql-utils/assets/js/935f2afb.5f7c91f0.js" as="script">
<link rel="preload" href="/graphql-utils/assets/js/17896441.ed1a245e.js" as="script">
<link rel="preload" href="/graphql-utils/assets/js/79c525b2.eb054890.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/graphql-utils/"><img src="/graphql-utils/img/jenyus.svg" alt="Jenyus Org" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/graphql-utils/img/jenyus-white.svg" alt="Jenyus Org" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">GraphQL-Utils</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/graphql-utils/docs/getting-started">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/jenyus-org/graphql-utils/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><a href="http://jenyus.web.app/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Jenyus</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/graphql-utils/"><img src="/graphql-utils/img/jenyus.svg" alt="Jenyus Org" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/graphql-utils/img/jenyus-white.svg" alt="Jenyus Org" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">GraphQL-Utils</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/graphql-utils/docs/getting-started">Docs</a></li><li class="menu__list-item"><a href="https://github.com/jenyus-org/graphql-utils/" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a href="http://jenyus.web.app/" target="_blank" rel="noopener noreferrer" class="menu__link">Jenyus</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-utils/docs/getting-started">Getting Started</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Recipes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-utils/docs/recipes/field-maps">Working With Field Maps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-utils/docs/recipes/checking-for-fields">Checking For Fields To Do Conditional JOINs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-utils/docs/recipes/resolving-selections">Resolving Selections For Use With ORMs</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-utils/docs/reference/interfaces">Interfaces</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/graphql-utils/docs/reference/utilities">Utilities</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Usage with NestJS</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-utils/docs/nestjs">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-utils/docs/nestjs/decorators">Decorators</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Utilities</h1></header><div class="markdown"><p>Overview of the utilities provided by the <code>@jenyus-org/graphql-utils</code> package.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="fieldmaptodot-fieldmap-fieldmap-string"></a><code>fieldMapToDot (fieldMap: FieldMap): string[]</code><a class="hash-link" href="#fieldmaptodot-fieldmap-fieldmap-string" title="Direct link to heading">#</a></h2><p><strong>New in v1.2.0</strong></p><p>Given a <code>FieldMap</code>, this utility will return the dot notations of the field selections.</p><p><strong>Example:</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><div tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> fieldMap</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">FieldMap</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  user</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    tasks</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    activities</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      task</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> dot </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">fieldMapToDot</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">fieldMap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">dot</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><strong>Output:</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><div tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;user&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;user.tasks&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;user.activities&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;user.activities.task&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getfieldmap-fieldmap-fieldmap-parent-string--string-fieldmap"></a><code>getFieldMap (fieldMap: FieldMap, parent: string | string[]): FieldMap</code><a class="hash-link" href="#getfieldmap-fieldmap-fieldmap-parent-string--string-fieldmap" title="Direct link to heading">#</a></h2><p><strong>New in v1.1.0</strong></p><p>Given a <code>FieldMap</code> and the <code>parent</code> argument, this function will return a sub-selection of the field map. This is useful for optimization purposes if a <code>FieldMap</code> from the <code>GraphQLResolveInfo</code> is already available to retrieve selections and subselections using this helper.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getfieldnode-info-pickgraphqlresolveinfo-fieldnodes--fragments-path-string--string---fieldnode--undefined"></a><code>getFieldNode (info: Pick&lt;GraphQLResolveInfo, &quot;fieldNodes&quot; | &quot;fragments&quot;&gt;, path: string | string[] = []): FieldNode | undefined</code><a class="hash-link" href="#getfieldnode-info-pickgraphqlresolveinfo-fieldnodes--fragments-path-string--string---fieldnode--undefined" title="Direct link to heading">#</a></h2><p><strong>New in v1.3.0</strong></p><p>Given the <code>GraphQLResolveInfo</code>, <code>getFieldNode</code> will retrieve the <code>FieldNode</code> at a specified path. The path may be specified with dot notation or as an array of fields. If no <code>FieldNode</code> was found, <code>undefined</code> will be returned.</p><p><strong>Note:</strong> This function returns a raw <code>FieldNode</code> and doesn&#x27;t do any remapping of fields or fragments. It&#x27;s meant for internal use or more advanced users looking to hook into the GraphQL system directly.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="hasfieldsinfo-graphqlresolveinfo-search-string--string-atroot-boolean--false-boolean"></a><code>hasFields(info: GraphQLResolveInfo, search: string | string[], atRoot: boolean = false): boolean</code><a class="hash-link" href="#hasfieldsinfo-graphqlresolveinfo-search-string--string-atroot-boolean--false-boolean" title="Direct link to heading">#</a></h2><p>Provided the <code>GraphQLResolveInfo</code> from a given query, <code>hasFields</code> will recursively scan through the field selections, including GraphQL fragments for a subselection of fields given to <code>search</code>. It supports dot notation as well as an array structure for the search.</p><p>The <code>atRoot</code> parameter allows users to specify whether the utility should only check for fields at the root level, or also go deeper down the tree in order to find the fields. It is recommended to have this enabled in general, but may be useful to disable at times.</p><div class="sandbox_12n1"><div><p class="header_1Rzy"><span>Query</span><span class="liveIndicator_Y5bm">Live<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="liveIndicatorIcon_dC42" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M6.116 20.087A9.986 9.986 0 0 1 2 12C2 6.477 6.477 2 12 2s10 4.477 10 10a9.986 9.986 0 0 1-4.116 8.087l-1.015-1.739a8 8 0 1 0-9.738 0l-1.015 1.739zm2.034-3.485a6 6 0 1 1 7.7 0l-1.03-1.766a4 4 0 1 0-5.64 0l-1.03 1.766zM11 13h2v9h-2v-9z"></path></g></svg></span></p><div class="playgroundEditor_1LOQ" style="position:relative;text-align:left;box-sizing:border-box;padding:0;overflow:hidden;white-space:pre;font-family:monospace;color:#bfc7d5;background-color:#292d3e"><textarea style="margin:0;border:0;background:none;box-sizing:inherit;display:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-variant-ligatures:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;tab-size:inherit;text-indent:inherit;text-rendering:inherit;text-transform:inherit;white-space:pre-wrap;word-break:keep-all;overflow-wrap:break-word;position:absolute;top:0;left:0;height:100%;width:100%;resize:none;color:inherit;overflow:hidden;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-text-fill-color:transparent;padding-top:10px;padding-right:10px;padding-bottom:10px;padding-left:10px" class="npm__react-simple-code-editor__textarea" autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false" data-gramm="false">{
  posts {
    id
    title
    body
    author {
      id
      username
      firstName
      lastName
    }
  }
}
</textarea><pre aria-hidden="true" style="margin:0;border:0;background:none;box-sizing:inherit;display:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-variant-ligatures:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;tab-size:inherit;text-indent:inherit;text-rendering:inherit;text-transform:inherit;white-space:pre-wrap;word-break:keep-all;overflow-wrap:break-word;position:relative;pointer-events:none;padding-top:10px;padding-right:10px;padding-bottom:10px;padding-left:10px"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  posts </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    id</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    title</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    body</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    author </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      id</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      username</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      firstName</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      lastName</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></pre><style>
/**
 * Reset the text fill color so that placeholder is visible
 */
.npm__react-simple-code-editor__textarea:empty {
  -webkit-text-fill-color: inherit !important;
}

/**
 * Hack to apply on some CSS on IE10 and IE11
 */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  /**
    * IE doesn't support '-webkit-text-fill-color'
    * So we use 'color: transparent' to make the text transparent on IE
    * Unlike other browsers, it doesn't affect caret color in IE
    */
  .npm__react-simple-code-editor__textarea {
    color: transparent !important;
  }

  .npm__react-simple-code-editor__textarea::selection {
    background-color: #accef7 !important;
    color: transparent !important;
  }
}
</style></div></div><div class="codeBlockContainer_ZrlR"><p class="header_1Rzy">Code</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><div tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> hasFields </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@jenyus-org/graphql-utils&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> resolvers </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name">Query</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">posts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">_</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> __</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ___</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> requestedAuthor </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">hasFields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;posts.author&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> requestedAuthor </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">hasFields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;posts&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;author&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> requestedAuthor </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">hasFields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;author&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">requestedAuthor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div><p class="outputHeader_OlAh">Output</p><div class="codeBlockContainer_ZrlR"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token boolean" style="color:rgb(255, 88, 116)">true</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div class="codeBlockContainer_ZrlR"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token boolean" style="color:rgb(255, 88, 116)">true</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div class="codeBlockContainer_ZrlR"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token boolean" style="color:rgb(255, 88, 116)">true</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="resolvefieldmapinfo-pickgraphqlresolveinfo-fieldnodes--fragments-deep-boolean--true-parent-string--string---fieldmap"></a><code>resolveFieldMap(info: Pick&lt;GraphQLResolveInfo, &quot;fieldNodes&quot; | &quot;fragments&quot;&gt;, deep: boolean = true, parent: string | string[] = &quot;&quot;): FieldMap</code><a class="hash-link" href="#resolvefieldmapinfo-pickgraphqlresolveinfo-fieldnodes--fragments-deep-boolean--true-parent-string--string---fieldmap" title="Direct link to heading">#</a></h2><p><strong>New in v1.1.0</strong></p><p>Given the <code>GraphQLResolveInfo</code>, this helper will return a <code>FieldMap</code> with all the nested selectors of the query.</p><p>The <code>deep</code> argument allows to be specified whether it should only search through a single layer of field selections, or go further down the tree. It is evaluated after the <code>parent</code> has been found, meaning that this allows you to make targeted searches for e.g. <code>user.posts</code> field selections or the sorts.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="resolvefieldsinfo-pickgraphqlresolveinfo-fieldnodes--fragments-deep-boolean--true-parent-string--string---string"></a><code>resolveFields(info: Pick&lt;GraphQLResolveInfo, &quot;fieldNodes&quot; | &quot;fragments&quot;&gt;, deep: boolean = true, parent: string | string[] = &quot;&quot;): string[]</code><a class="hash-link" href="#resolvefieldsinfo-pickgraphqlresolveinfo-fieldnodes--fragments-deep-boolean--true-parent-string--string---string" title="Direct link to heading">#</a></h2><p><strong>New in v1.1.0</strong></p><p>Similar to <code>resolveFieldMap</code>, <code>resolveFields</code> will return either flat or deep field selections made in the query, under the specified <code>parent</code> which may be passed as a dot-notated string or array of fields. The return value will be the dot-notated field selections which are returned by the <code>fieldMapToDot</code> helper.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="resolveselectionsfields-string--fieldselections-info-graphqlresolveinfo-string"></a><code>resolveSelections(fields: (string | FieldSelections)[], info: GraphQLResolveInfo): string[]</code><a class="hash-link" href="#resolveselectionsfields-string--fieldselections-info-graphqlresolveinfo-string" title="Direct link to heading">#</a></h2><p><code>resolveSelections</code> is an extension of <code>hasFields</code>, designed to aid in generating the most efficient SQL queries possible when using an ORM like <a href="https://typeorm.io/" target="_blank" rel="noopener noreferrer">TypeORM</a>.</p><p><code>resolveSelections</code> takes as its first argument, a deeply nested list of fields to recursively search through, and add to its final return array of selections made in the actual query. For more details on the structure of <code>FieldSelections</code>, see the section below. Just like <code>hasFields</code> it also expects to be passed the <code>GraphQLResolveInfo</code> from the query made.</p><div class="sandbox_12n1"><div><p class="header_1Rzy"><span>Query</span><span class="liveIndicator_Y5bm">Live<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="liveIndicatorIcon_dC42" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M6.116 20.087A9.986 9.986 0 0 1 2 12C2 6.477 6.477 2 12 2s10 4.477 10 10a9.986 9.986 0 0 1-4.116 8.087l-1.015-1.739a8 8 0 1 0-9.738 0l-1.015 1.739zm2.034-3.485a6 6 0 1 1 7.7 0l-1.03-1.766a4 4 0 1 0-5.64 0l-1.03 1.766zM11 13h2v9h-2v-9z"></path></g></svg></span></p><div class="playgroundEditor_1LOQ" style="position:relative;text-align:left;box-sizing:border-box;padding:0;overflow:hidden;white-space:pre;font-family:monospace;color:#bfc7d5;background-color:#292d3e"><textarea style="margin:0;border:0;background:none;box-sizing:inherit;display:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-variant-ligatures:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;tab-size:inherit;text-indent:inherit;text-rendering:inherit;text-transform:inherit;white-space:pre-wrap;word-break:keep-all;overflow-wrap:break-word;position:absolute;top:0;left:0;height:100%;width:100%;resize:none;color:inherit;overflow:hidden;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-text-fill-color:transparent;padding-top:10px;padding-right:10px;padding-bottom:10px;padding-left:10px" class="npm__react-simple-code-editor__textarea" autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false" data-gramm="false">{
  posts {
    id
    title
    body
    author {
      id
      username
      firstName
      lastName
    }
    comments {
      id
      body
      author {
        id
        username
        firstName
        lastName
      }
    }
  }
}
</textarea><pre aria-hidden="true" style="margin:0;border:0;background:none;box-sizing:inherit;display:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-variant-ligatures:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;tab-size:inherit;text-indent:inherit;text-rendering:inherit;text-transform:inherit;white-space:pre-wrap;word-break:keep-all;overflow-wrap:break-word;position:relative;pointer-events:none;padding-top:10px;padding-right:10px;padding-bottom:10px;padding-left:10px"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  posts </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    id</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    title</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    body</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    author </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      id</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      username</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      firstName</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      lastName</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    comments </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      id</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      body</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      author </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        id</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        username</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        firstName</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        lastName</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></pre><style>
/**
 * Reset the text fill color so that placeholder is visible
 */
.npm__react-simple-code-editor__textarea:empty {
  -webkit-text-fill-color: inherit !important;
}

/**
 * Hack to apply on some CSS on IE10 and IE11
 */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  /**
    * IE doesn't support '-webkit-text-fill-color'
    * So we use 'color: transparent' to make the text transparent on IE
    * Unlike other browsers, it doesn't affect caret color in IE
    */
  .npm__react-simple-code-editor__textarea {
    color: transparent !important;
  }

  .npm__react-simple-code-editor__textarea::selection {
    background-color: #accef7 !important;
    color: transparent !important;
  }
}
</style></div></div><div class="codeBlockContainer_ZrlR"><p class="header_1Rzy">Code</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><div tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> resolveSelections </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@jenyus-org/graphql-utils&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> resolvers </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name">Query</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">posts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">_</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> __</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ___</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> fields</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">FieldSelection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          field</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;posts&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          selections</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              field</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;author&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              selector</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;posts.author&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              field</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;comments&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              selector</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;posts.comments&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              selections</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  field</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;author&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  selector</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;posts.comments.author&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> relations </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">resolveSelections</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">fields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">relations</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div><p class="outputHeader_OlAh">Output</p><div class="codeBlockContainer_ZrlR"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;posts.author&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;posts.comments&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;posts.comments.author&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></div></div><p>As <code>fields</code> can be represented by both objects and strings, they will be handled differently depending on their type. Using the object syntax <code>resolveSelections</code> will ensure the existence of the field, and if a <code>selector</code> value is present, it will be added to the accumulation of selections.</p><p>If instead, a string array is passed to <code>fields</code> or <code>selections</code>, the query will be tested for the field and the results will be accumulated as such.</p><p><strong>Note:</strong> Whenever fields are being tested in the query, the fields higher above are prepended to the check. This means the <code>posts</code> selection will only resolve if <code>user.posts</code> is found, and not simply <code>posts</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="motivation-behind-resolveselections"></a>Motivation behind <code>resolveSelections</code><a class="hash-link" href="#motivation-behind-resolveselections" title="Direct link to heading">#</a></h3><p>ORMs like the aforementioned TypeORM can make use of dot notation arguments to automatically <code>JOIN</code> certain entities. While it would be possible to use <code>hasFields</code> to check if the <code>posts</code> have been requested, and then add <code>user.posts</code> to the list of relations to be resolved, <code>resolveSelections</code> provides a much more convenient and readable interface to achieve the same thing.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/jenyus-org/graphql-utils/edit/master/docs/docs/reference/utilities.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/graphql-utils/docs/reference/interfaces"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Interfaces</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/graphql-utils/docs/nestjs"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Installation Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#fieldmaptodot-fieldmap-fieldmap-string" class="table-of-contents__link"><code>fieldMapToDot (fieldMap: FieldMap): string[]</code></a></li><li><a href="#getfieldmap-fieldmap-fieldmap-parent-string--string-fieldmap" class="table-of-contents__link"><code>getFieldMap (fieldMap: FieldMap, parent: string | string[]): FieldMap</code></a></li><li><a href="#getfieldnode-info-pickgraphqlresolveinfo-fieldnodes--fragments-path-string--string---fieldnode--undefined" class="table-of-contents__link"><code>getFieldNode (info: Pick&lt;GraphQLResolveInfo, &quot;fieldNodes&quot; | &quot;fragments&quot;&gt;, path: string | string[] = []): FieldNode | undefined</code></a></li><li><a href="#hasfieldsinfo-graphqlresolveinfo-search-string--string-atroot-boolean--false-boolean" class="table-of-contents__link"><code>hasFields(info: GraphQLResolveInfo, search: string | string[], atRoot: boolean = false): boolean</code></a></li><li><a href="#resolvefieldmapinfo-pickgraphqlresolveinfo-fieldnodes--fragments-deep-boolean--true-parent-string--string---fieldmap" class="table-of-contents__link"><code>resolveFieldMap(info: Pick&lt;GraphQLResolveInfo, &quot;fieldNodes&quot; | &quot;fragments&quot;&gt;, deep: boolean = true, parent: string | string[] = &quot;&quot;): FieldMap</code></a></li><li><a href="#resolvefieldsinfo-pickgraphqlresolveinfo-fieldnodes--fragments-deep-boolean--true-parent-string--string---string" class="table-of-contents__link"><code>resolveFields(info: Pick&lt;GraphQLResolveInfo, &quot;fieldNodes&quot; | &quot;fragments&quot;&gt;, deep: boolean = true, parent: string | string[] = &quot;&quot;): string[]</code></a></li><li><a href="#resolveselectionsfields-string--fieldselections-info-graphqlresolveinfo-string" class="table-of-contents__link"><code>resolveSelections(fields: (string | FieldSelections)[], info: GraphQLResolveInfo): string[]</code></a><ul><li><a href="#motivation-behind-resolveselections" class="table-of-contents__link">Motivation behind <code>resolveSelections</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/graphql-utils/docs/getting-started/">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/graphql-utils/docs/recipes/field-maps/">Recipes</a></li><li class="footer__item"><a class="footer__link-item" href="/graphql-utils/docs/reference/interfaces/">Reference</a></li><li class="footer__item"><a class="footer__link-item" href="/graphql-utils/docs/nestjs/">NestJS</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/jenyus-org/graphql-utils/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="http://jenyus.web.app/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Jenyus</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Jenyus Org. Built with Docusaurus.</div></div></div></footer></div>
<script src="/graphql-utils/assets/js/styles.8c4d1cc6.js"></script>
<script src="/graphql-utils/assets/js/runtime~main.7d6f00cb.js"></script>
<script src="/graphql-utils/assets/js/main.0d934c17.js"></script>
<script src="/graphql-utils/assets/js/common.dcdbc003.js"></script>
<script src="/graphql-utils/assets/js/2.ff3575b0.js"></script>
<script src="/graphql-utils/assets/js/1be78505.aec436ed.js"></script>
<script src="/graphql-utils/assets/js/18.b25236b0.js"></script>
<script src="/graphql-utils/assets/js/935f2afb.5f7c91f0.js"></script>
<script src="/graphql-utils/assets/js/17896441.ed1a245e.js"></script>
<script src="/graphql-utils/assets/js/79c525b2.eb054890.js"></script>
</body>
</html>